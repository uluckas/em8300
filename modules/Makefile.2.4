# where the kernel sources are located
KERNEL_LOCATION=/usr/src/linux

#################################################
# some magic for using linux kernel settings
# when compiling module(s)

EXTRA_CFLAGS = -g -Werror -I../include -I/usr/local/include \
		-DEM8300_VIDEOMODE_DEFAULT=EM8300_VIDEOMODE_PAL \
		-DEM8300_AUDIOMODE_DEFAULT=EM8300_AUDIOMODE_ANALOG

O_TARGET = em8300.o

obj-y	:= em8300_main.o em8300_i2c.o em8300_audio.o em8300_fifo.o \
	   em8300_video.o em8300_misc.o em8300_dicom.o em8300_ucode.o \
	   em8300_ioctl.o em8300_spu.o em9010.o

obj-m	:= em8300.o adv717x.o bt865.o eeprom.o

include $(KERNEL_LOCATION)/Rules.make

